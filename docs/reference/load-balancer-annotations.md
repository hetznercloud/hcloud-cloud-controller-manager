# Annotations

This file contains all annotations, which can be used to configure a Hetzner Cloud Load Balancer.
When using these annotations, they need the prefix `load-balancer.hetzner.cloud/`.
For example, the annotation `load-balancer.hetzner.cloud/location` is used to set the location of the Load Balancer.

| Annotation                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ----------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| LBSvcRedirectHTTP                         | LBSvcRedirectHTTP create a redirect from HTTP to HTTPS. HTTPS only.                                                                                                                                                                                                                                                                                                                                                                     |
| LBSvcHealthCheckHTTPValidateCertificate   | LBSvcHealthCheckHTTPValidateCertificate specifies whether the health check should validate the SSL certificate that comes from the target nodes.                                                                                                                                                                                                                                                                                        |
| LBPublicIPv4                              | LBPublicIPv4 is the public IPv4 address assigned to the Load Balancer by the backend. Read-only.                                                                                                                                                                                                                                                                                                                                        |
| LBPublicIPv4RDNS                          | LBPublicIPv4RDNS is the reverse DNS record assigned to the IPv4 address of the Load Balancer.                                                                                                                                                                                                                                                                                                                                           |
| LBSvcHealthCheckInterval                  | LBSvcHealthCheckInterval specifies the interval in which time we perform a health check in seconds.                                                                                                                                                                                                                                                                                                                                     |
| LBPublicIPv6                              | LBPublicIPv6 is the public IPv6 address assigned to the Load Balancer by the backend. Read-only.                                                                                                                                                                                                                                                                                                                                        |
| LBUsePrivateIP                            | LBUsePrivateIP configures the Load Balancer to use the private IP for Load Balancer server targets.                                                                                                                                                                                                                                                                                                                                     |
| LBSvcProtocol                             | LBSvcProtocol specifies the protocol of the service. Default: tcp, Possible values: tcp, http, https                                                                                                                                                                                                                                                                                                                                    |
| LBLocation                                | LBLocation specifies the location where the Load Balancer will be created in. Changing the location to a different value after the load balancer was created has no effect. In order to move a load balancer to a different location it is necessary to delete and re-create it. Note, that this will lead to the load balancer getting new public IPs assigned. Mutually exclusive with LBNetworkZone.                                 |
| LBSvcHTTPStickySessions                   | LBSvcHTTPStickySessions enables the sticky sessions feature of Hetzner Cloud HTTP Load Balancers. Default: false.                                                                                                                                                                                                                                                                                                                       |
| LBSvcHealthCheckProtocol                  | LBSvcHealthCheckProtocol sets the protocol the health check should be performed over. Possible values: tcp, http, https Default: tcp.                                                                                                                                                                                                                                                                                                   |
| LBSvcHealthCheckTimeout                   | LBSvcHealthCheckTimeout specifies the timeout of a single health check.                                                                                                                                                                                                                                                                                                                                                                 |
| LBSvcHealthCheckHTTPStatusCodes           | LBSvcHealthCheckHTTPStatusCodes is a comma separated list of HTTP status codes which we expect.                                                                                                                                                                                                                                                                                                                                         |
| LBPublicIPv6RDNS                          | LBPublicIPv6RDNS is the reverse DNS record assigned to the IPv6 address of the Load Balancer.                                                                                                                                                                                                                                                                                                                                           |
| LBPrivateIPv4                             | LBPrivateIPv4 specifies the IPv4 address to assign to the load balancer in the private network that it's attached to.                                                                                                                                                                                                                                                                                                                   |
| LBID                                      | LBID is the ID assigned to the Hetzner Cloud Load Balancer by the backend. Read-only. Deprecated: This annotation is not used. It is reserved for possible future use.                                                                                                                                                                                                                                                                  |
| LBSvcProxyProtocol                        | LBSvcProxyProtocol specifies if the Load Balancer services should use the proxy protocol. Default: false.                                                                                                                                                                                                                                                                                                                               |
| LBSvcHealthCheckPort                      | LBSvcHealthCheckPort specifies the port the health check is be performed on.                                                                                                                                                                                                                                                                                                                                                            |
| LBSvcHealthCheckRetries                   | LBSvcHealthCheckRetries specifies the number of time a health check is retried until a target is marked as unhealthy.                                                                                                                                                                                                                                                                                                                   |
| LBSvcHealthCheckHTTPDomain                | LBSvcHealthCheckHTTPDomain specifies the domain we try to access when performing the health check.                                                                                                                                                                                                                                                                                                                                      |
| LBIPv6Disabled                            | LBIPv6Disabled disables the use of IPv6 for the Load Balancer. Set this annotation if you use external-dns. Default: false.                                                                                                                                                                                                                                                                                                             |
| LBNodeSelector                            | LBNodeSelector can be set to restrict which Nodes are added as targets to the Load Balancer. It accepts a Kubernetes label selector string, using either the set-based or equality-based formats. If the selector can not be parsed, the targets in the Load Balancer are not updated and an Event is created with the error message. Format: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors |
| LBSvcHTTPCookieLifetime                   | LBSvcHTTPCookieLifetime specifies the lifetime of the HTTP cookie.                                                                                                                                                                                                                                                                                                                                                                      |
| LBSvcHTTPCertificateType                  | LBSvcHTTPCertificateType defines the type of certificate the Load Balancer should use. Possible values are "uploaded" and "managed". If not set LBSvcHTTPCertificateType defaults to "uploaded". LBSvcHTTPManagedCertificateDomains is ignored in this case. HTTPS only.                                                                                                                                                                |
| LBSvcHTTPManagedCertificateName           | LBSvcHTTPManagedCertificateName contains the names of the managed certificate to create by the Cloud Controller manager. Ignored if LBSvcHTTPCertificateType is missing or set to "uploaded". Optional.                                                                                                                                                                                                                                 |
| LBHostname                                | LBHostname specifies the hostname of the Load Balancer. This will be used as ingress address instead of the Load Balancer IP addresses if specified.                                                                                                                                                                                                                                                                                    |
| LBAlgorithmType                           | LBAlgorithmType specifies the algorithm type of the Load Balancer. Possible values: round_robin, least_connections Default: round_robin.                                                                                                                                                                                                                                                                                                |
| LBSvcHealthCheckHTTPPath                  | LBSvcHealthCheckHTTPPath specifies the path we try to access when performing the health check.                                                                                                                                                                                                                                                                                                                                          |
| LBName                                    | LBName is the name of the Load Balancer. The name will be visible in the Hetzner Cloud API console.                                                                                                                                                                                                                                                                                                                                     |
| LBType                                    | LBType specifies the type of the Load Balancer. Default: lb11.                                                                                                                                                                                                                                                                                                                                                                          |
| LBNetworkZone                             | LBNetworkZone specifies the network zone where the Load Balancer will be created in. Changing the network zone to a different value after the load balancer was created has no effect. In order to move a load balancer to a different network zone it is necessary to delete and re-create it. Note, that this will lead to the load balancer getting new public IPs assigned. Mutually exclusive with LBLocation.                     |
| LBSvcHTTPCertificates                     | LBSvcHTTPCertificates a comma separated list of IDs or Names of Certificates assigned to the service. HTTPS only.                                                                                                                                                                                                                                                                                                                       |
| LBSvcHTTPManagedCertificateUseACMEStaging | LBSvcHTTPManagedCertificateUseACMEStaging tells the cloud controller manager to create the certificate using Let's Encrypt staging. This annotation is exclusively for Hetzner internal testing purposes. Users should not use this annotation. There is no guarantee that it remains or continues to function as it currently functions.                                                                                               |
| LBSvcHTTPManagedCertificateDomains        | LBSvcHTTPManagedCertificateDomains contains a coma separated list of the domain names of the managed certificate. All domains are used to create a single managed certificate.                                                                                                                                                                                                                                                          |
| LBDisablePublicNetwork                    | LBDisablePublicNetwork disables the public network of the Hetzner Cloud Load Balancer. It will still have a public network assigned, but all traffic is routed over the private network.                                                                                                                                                                                                                                                |
| LBDisablePrivateIngress                   | LBDisablePrivateIngress disables the use of the private network for ingress.                                                                                                                                                                                                                                                                                                                                                            |
| LBSvcHTTPCookieName                       | LBSvcHTTPCookieName specifies the cookie name when using HTTP or HTTPS as protocol.                                                                                                                                                                                                                                                                                                                                                     |
